class Timer{constructor(t,e){this.el=t,this.time=e,this.interval,this.start(),this.render()}start(){this.interval=setInterval(()=>this.tick(),1e3);let t=localStorage.getItem("timerData"),e=JSON.parse(t);if(null!=e&&e.buttonState){clearInterval(this.interval),this.time=e.time,alterElement(document.querySelector(".action button"),e.buttonState,"Вот и сказочке конец! Лучше чтобы был конец сказке чем конец сказки.")}}stop(){saveToTheLocalStorage(this.time,!0),clearInterval(this.interval)}tick(){this.time--,this.render();let t=localStorage.getItem("timerData"),e=JSON.parse(t);null!=e&&e.buttonState?saveToTheLocalStorage(this.time,!0):saveToTheLocalStorage(this.time,!1),this.time<=0&&this.stop()}render(){let t=parseInt(this.time/3600),e=this.time%3600,i=parseInt(e/60),a=e%60;this.el.innerHTML=`<div>${t} <span>часов</span></div>\n\t\t\t\t\t\t\t<div>${i} <span>минут</span></div>\n\t\t\t\t\t\t\t<div>${a} <span>секунд</span></div>`}}let el1=document.querySelector(".timer"),t1=new Timer(el1,5e4);function alterElement(t,e,i){t.disabled=e,t.innerHTML=i,t.classList.add("button-disabled")}function saveToTheLocalStorage(t,e){localStorage.setItem("timerData",JSON.stringify({time:t,buttonState:e}))}document.querySelector(".action button").addEventListener("click",function(){t1.stop(),alterElement(this,!0,"Вот и сказочки конец!")});